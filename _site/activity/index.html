<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=0.98">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="Brian Jacobel is a full-stack web developer in Boston, MA interested in media, journalism and quality software development.">
    <title>Brian Jacobel</title>
    <link href="http://fonts.googleapis.com/css?family=Merriweather+Sans:300|Lato:300,400" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/main.css">
    <script async src="/js/ga.js"></script>
    <script src="/js/jquery-min.js"></script>
</head>
<body>
    <div class="header">
        <div class="title">
            <h1 class="aboutme myname">Brian Jacobel</h1>
            <div class="separator"></div>
            <h2 class="aboutme mytitle">Web Developer in Boston, MA</h2>
        </div>
        <div class="mobile-burger">
            <span class="burger-lines"></span>
        </div>
    </div>
    <div class="main">
        <div class="sidebar">
            <div class="headshot"></div>
            <div class="container">
                <a href='/' class="nav-item about">about</a>
                <a href='/projects' class="nav-item projects">projects</a>
                <a href='/activity' class="nav-item activity">activity</a>
                <a href='/work' class="nav-item work">work</a>
                <a href='/resume' class="nav-item resume">resume</a>
                <a href='/blog' class="nav-item blog">blog</a>
            </div>
            <div class="socialbuttons">
                <a href='https://github.com/bjacobel' class="social-item github"></a>
                <a href='https://twitter.com/bjacobel' class="social-item twitter"></a>
                <a href='https://www.linkedin.com/in/bjacobel' class="social-item linkedin"></a>
            </div>
        </div>
        <div class="body-content">
            <script type="text/javascript" src="/js/moment.min.js"></script>

<p class="post-title">Here's what I'm working on, right now:</p>
<div class="events">
</div>
<p><i>(data via the <a href="https://developer.github.com/v3/activity/events/">github public api</a>)</i></p>

<!-- lol, inlined JS and CSS. Don't judge me, it's fast! -->

<script type="text/javascript">
    $.ajax({
        url: "https://api.github.com/users/bjacobel/events/public",
        error: function (jqXHR, textStatus, errorThrown ){
            console.error(textStatus);
        },
    }).done(function(data){
        data.forEach(function(element, index, array){
            if(element.type == "PushEvent"){
                mkcommits(
                    element.created_at,
                    element.payload.commits.length,
                    element.payload.ref.slice(11),
                    element.repo.name,
                    element.payload.commits
                );
            }

        });
    });

    var mkcommits = function (timestamp, num, ref, reponame, commits){
        commit_s = (num == 1 ? "commit" : "commits");
        repolink = "<a href='https://github.com/"+reponame+"'>"+reponame+"</a>.";
        branchlink = "<a href='https://github.com/"+reponame+"/tree/"+ref+"'>"+ref+"</a>";
        timestamp = "<p class='timestamp'>"+moment(timestamp).fromNow()+"</p>"
        summary = timestamp+"<p>Pushed "+num+" "+commit_s+" to "+branchlink+" at "+repolink+"</p>";

        commits.forEach(function(element, index, array){
            summary += "<p class='code'><a href='https://github.com/"+reponame+"/commit/"+element.sha+"'>"+element.sha.slice(0,8)+"</a>: "+element.message+"</p>";
        });

        $(".events").append(summary);
    };
</script>

<style>
    .code {
        font-family:"Courier New", Courier, monospace;
        font-size:11pt;
        margin-left:10px;
    }
    .timestamp {
        font-size:9pt;
        color:#7f7f7f;
        margin-bottom:2px;
    }
    .events {
        margin-bottom: 25px;
    }
</style>
        </div>
    </div>
    <script src="/js/fastclick.js"></script>
    <script src="/js/my.js"></script>
</body>
</html>
